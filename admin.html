<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master Painel | EriPlay</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        :root { --primary: #001f3f; --accent: #e5c05b; --bg: #f4f7f6; }
        body { font-family: 'Montserrat', sans-serif; background: var(--bg); margin: 0; padding-top: 80px; }
        
        /* HEADER FIXO */
        header.admin-nav { position: fixed; top: 0; width: 100%; height: 70px; background: var(--primary); color: white; display: flex; align-items: center; justify-content: space-around; z-index: 1000; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        .nav-item { cursor: pointer; font-weight: bold; text-transform: uppercase; font-size: 0.8rem; opacity: 0.7; transition: 0.3s; }
        .nav-item:hover, .nav-item.active { opacity: 1; color: var(--accent); }

        .container { max-width: 1000px; margin: 20px auto; background: white; padding: 40px; border-radius: 12px; display: none; }
        .container.active { display: block; }
        
        .section-box { border: 1px solid #ddd; padding: 20px; border-radius: 8px; margin-bottom: 20px; background: #fafafa; }
        label { display: block; margin-top: 15px; font-weight: bold; }
        input, textarea, select { width: 100%; padding: 12px; margin-top: 5px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; }

        /* UPLOAD DE FOTOS */
        .upload-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .photo-card { text-align: center; padding: 15px; border: 2px dashed #ccc; border-radius: 10px; }
        .btn-upload { background: var(--accent); color: var(--primary); border: none; padding: 10px; margin-top: 10px; width: 100%; cursor: pointer; font-weight: bold; border-radius: 5px; }
        .preview-img { width: 100%; height: 120px; object-fit: cover; margin-bottom: 10px; border-radius: 5px; background: #eee; display: block; }

        .btn-save-all { position: fixed; bottom: 20px; right: 20px; background: #28a745; color: white; border: none; padding: 20px 40px; border-radius: 50px; font-weight: 900; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
    </style>
</head>
<body>

<header class="admin-nav">
    <div class="nav-item active" onclick="showTab('geral', this)">Geral / Sobre</div>
    <div class="nav-item" onclick="showTab('redes', this)">Redes Sociais</div>
    <div class="nav-item" onclick="showTab('temas', this)">Temas & Ícones</div>
    <div class="nav-item" onclick="showTab('sql', this)">SQL & Banco</div>
</header>

<div id="geral" class="container active">
    <h3>Informações Gerais e Espaço</h3>
    <div class="section-box">
        <label>Nome / Título</label><input type="text" id="in-nome">
        <label>Sobre Mim</label><textarea id="in-sobre" rows="5"></textarea>
    </div>
    <h3>Fotos do Nosso Espaço</h3>
    <div class="upload-row">
        <div class="photo-card">
            <img id="prev-1" class="preview-img">
            <input type="file" id="file-1" hidden onchange="preview(1)">
            <button class="btn-upload" onclick="document.getElementById('file-1').click()">Escolher Foto 1</button>
        </div>
        <div class="photo-card">
            <img id="prev-2" class="preview-img">
            <input type="file" id="file-2" hidden onchange="preview(2)">
            <button class="btn-upload" onclick="document.getElementById('file-2').click()">Escolher Foto 2</button>
        </div>
        <div class="photo-card">
            <img id="prev-3" class="preview-img">
            <input type="file" id="file-3" hidden onchange="preview(3)">
            <button class="btn-upload" onclick="document.getElementById('file-3').click()">Escolher Foto 3</button>
        </div>
    </div>
</div>

<div id="redes" class="container">
    <h3>Links e Redes Sociais</h3>
    <div class="section-box">
        <label>WhatsApp (Ex: 5519995566991)</label><input type="text" id="in-whatsapp">
        <label>Instagram URL</label><input type="text" id="in-insta">
        <label>YouTube Link (Principal)</label><input type="text" id="in-yt">
        <label>E-mail</label><input type="text" id="in-email">
    </div>
</div>

<div id="temas" class="container">
    <h3>Personalização de Tema</h3>
    <div class="section-box">
        <label>Selecione o Tema Pronto</label>
        <select id="in-tema">
            <option value="tema-advogado">Advocacia (Ouro Marinho)</option>
            <option value="tema-engenheiro">Engenharia</option>
            <option value="tema-medico">Medicina</option>
            <option value="tema-nutri">Nutrição</option>
            <option value="tema-estetica">Estética</option>
            <option value="tema-arquiteto">Arquitetura</option>
            <option value="tema-psicologo">Psicologia</option>
            <option value="tema-contador">Contabilidade</option>
            <option value="tema-gamer">Gamer</option>
            <option value="tema-cyberpunk">Cyberpunk</option>
        </select>
    </div>
</div>

<div id="sql" class="container">
    <h3>Estrutura SQL e Mensagens</h3>
    <textarea readonly style="height: 200px; background: #222; color: #0f0; font-family: monospace;">
CREATE TABLE leads (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100),
    email VARCHAR(100),
    mensagem TEXT,
    data_envio TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
    </textarea>
</div>

<button class="btn-save-all" onclick="saveAll()">SALVAR TUDO</button>

<script>
    let siteData = JSON.parse(localStorage.getItem('siteData')) || { fotos: {} };

    function showTab(id, el) {
        document.querySelectorAll('.container').forEach(c => c.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        el.classList.add('active');
    }

    function preview(id) {
        const file = document.getElementById(`file-${id}`).files[0];
        const reader = new FileReader();
        reader.onloadend = () => {
            siteData.fotos[`f${id}`] = reader.result;
            document.getElementById(`prev-${id}`).src = reader.result;
        };
        if(file) reader.readAsDataURL(file);
    }

    function saveAll() {
        siteData.nome = document.getElementById('in-nome').value;
        siteData.sobre = document.getElementById('in-sobre').value;
        siteData.whatsapp = document.getElementById('in-whatsapp').value;
        siteData.insta = document.getElementById('in-insta').value;
        siteData.tema = document.getElementById('in-tema').value;
        siteData.email = document.getElementById('in-email').value;

        localStorage.setItem('siteData', JSON.stringify(siteData));
        alert("Sistema EriPlay Atualizado com Sucesso!");
        window.location.href = 'index.html';
    }

    window.onload = () => {
        document.getElementById('in-nome').value = siteData.nome || '';
        document.getElementById('in-sobre').value = siteData.sobre || '';
        document.getElementById('in-tema').value = siteData.tema || 'tema-advogado';
        if(siteData.fotos.f1) document.getElementById('prev-1').src = siteData.fotos.f1;
        if(siteData.fotos.f2) document.getElementById('prev-2').src = siteData.fotos.f2;
        if(siteData.fotos.f3) document.getElementById('prev-3').src = siteData.fotos.f3;
    };
</script>
</body>
</html>